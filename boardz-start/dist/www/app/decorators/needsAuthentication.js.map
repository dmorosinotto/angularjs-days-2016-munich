{"version":3,"sources":["decorators/needsAuthentication.ts"],"names":[],"mappings":";;;;QAKa,mBAAmB;;;;;;;;;;;;;YAAnB,iCAAA,mBAAmB,GAAG;gBAC/B,MAAM,CAAC,oBAAW,CAAC,UAAC,EAAwB,EAAE,IAA0B,EAAE,MAAc;oBAAd,sBAAc,GAAd,UAAU,GAAG,CAAC;oBACpF,IAAI,QAAQ,GAAa,0BAAW,EAAE,CAAC,CAAC,uDAAuD;oBAC/F,IAAI,YAAY,GAAiB,QAAQ,CAAC,GAAG,CAAC,4BAAY,CAAC,CAAC;oBAC5D,IAAI,MAAM,GAAW,QAAQ,CAAC,GAAG,CAAC,eAAM,CAAC,CAAC;oBAE1C,EAAE,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC;wBACnB,MAAM,CAAC,IAAI,CAAC;oBAEhB,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,EAAE,QAAA,MAAM,EAAE,CAAC,CAAC,CAAC;oBAExC,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC,CAAC,CAAC;YACP,CAAC,CAAA,CAAA","file":"decorators/needsAuthentication.js","sourcesContent":["import {CanActivate, ComponentInstruction, Router} from 'angular2/router';\nimport {Injector} from 'angular2/core';\nimport {appInjector} from '../services/app.injector';\nimport {TokenService} from '../services/token.service';\n\nexport const NeedsAuthentication = () => {\n    return CanActivate((to: ComponentInstruction, from: ComponentInstruction, target = ['/']) => {\n        let injector: Injector = appInjector(); // Get the stored reference to the application injector\n        let tokenService: TokenService = injector.get(TokenService);\n        let router: Router = injector.get(Router);\n\n        if (tokenService.token)\n            return true;\n\n        router.navigate(['/Login', { target }]);\n        \n        return false;\n    });\n}"],"sourceRoot":"/source/"}